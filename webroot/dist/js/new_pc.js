!function(t){var n={};function s(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=n,s.d=function(e,o,t){s.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:t})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(o,e){if(1&e&&(o=s(o)),8&e)return o;if(4&e&&"object"==typeof o&&o&&o.__esModule)return o;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:o}),2&e&&"string"!=typeof o)for(var n in o)s.d(t,n,function(e){return o[e]}.bind(null,n));return t},s.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(o,"a",o),o},s.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},s.p="",s(s.s=10)}([function(e,o,t){"use strict";var n,s,i,r;o.__esModule=!0,(s=n=n||{})[s.Working=100]="Working",s[s.Stopping=101]="Stopping",(r=i=i||{})[r.VideoSystemUnInit=100]="VideoSystemUnInit",r[r.VideoSystemUnIniting=200]="VideoSystemUnIniting",r[r.VideoSystemInitSucc=300]="VideoSystemInitSucc",r[r.VideoSystemInitFailed=400]="VideoSystemInitFailed";var a=function(){this.AudioRecording=!1,this.VideoChatting=!1,this.VideoSystemStatus=i.VideoSystemUnInit},c=(l.CoreMessageLoopTime=100,l.globalProcessStatus=n.Working,l.protocol="ws://",l.globalBackgroundImg="",l.globalUserID=-1,l.globalPwd="",l.globalMobile=!1,l.globalLoginPage="index.html",l.globalRegisterPage="new.html",l.globalMainPage="main.html",l.NoteglobalVideoSystemStatusObject=new a,l.username="",l.globalFriendsId=[],l.globalMessageArray=[],l.sakdasjdhakd9aqwieyqwieyi="4F637416",l);function l(){}o.GlobalVars2=c,o.audioorvideoWorking=function(){return c.NoteglobalVideoSystemStatusObject.AudioRecording||c.NoteglobalVideoSystemStatusObject.VideoChatting},o.audioWorking=function(){return c.NoteglobalVideoSystemStatusObject.AudioRecording},o.turnOffAudio=function(){c.NoteglobalVideoSystemStatusObject.AudioRecording=!1},o.turnOnAudion=function(){c.NoteglobalVideoSystemStatusObject.AudioRecording=!0},o.turnOffvideo=function(){c.NoteglobalVideoSystemStatusObject.VideoChatting=!1},o.turnOnvideo=function(e){c.NoteglobalVideoSystemStatusObject.VideoChatting=!0},o.isVideoSystemNeedInite=function(){return c.NoteglobalVideoSystemStatusObject.VideoSystemStatus==i.VideoSystemUnInit},o.isVideoSystemIniting=function(){return c.NoteglobalVideoSystemStatusObject.VideoSystemStatus==i.VideoSystemUnIniting},o.isVideoSystemInitSucc=function(){return c.NoteglobalVideoSystemStatusObject.VideoSystemStatus!=i.VideoSystemInitSucc},o.startProcessCoreMessage=function(){c.globalProcessStatus=n.Working},o.stopProcessCoreMessage=function(){c.globalProcessStatus=n.Stopping},o.isProcessCoreMessageWorking=function(){return c.globalProcessStatus==n.Working},o.getOpenWidth=function(){return!0===c.globalMobile?"400px;":"560px;"},o.changeBackground=function(){var e=Math.round(100*Math.random())+1,o=(e%=38).toString()+".jpg";o="../images/bg/img/"+(o=e<10?"0000"+o:"000"+o),c.globalBackgroundImg="url("+o+")",document.getElementsByTagName("body")[0].style.backgroundImage=c.globalBackgroundImg},o.sendMessageToServer=function(e){var o=e.cmd+c.sakdasjdhakd9aqwieyqwieyi+JSON.stringify(e);console.log("send message ",o),c.globalImSocketObject.send(o)}},function(e,o,t){"use strict";o.__esModule=!0;var n=(s.Request_register_code="001",s.Request_login_code="011",s.Request_online_client_info_code="002",s.Response_online_client_info_code="102",s.Response_login_code="111",s.Response_mine_code="121",s.Response_add_friend_list_code="131",s.Request_a_to_server_add_friend_code="032",s.Request_server_to_b_add_friend_code="032",s.Response_server_to_a_add_friend_code="133",s.Request_confirm_add_friend_code="033",s.Request_fetch_friend_code="037",s.Response_server_to_a_fetch_friend_code="137",s.Request_remove_friend_code="039",s.Response_remove_friend_code="139",s.Request_message_code="041",s.Requst_ack_message_code="042",s.Response_message_code="142",s.Response_friend_status_change_code="151",s.Response_friend_info_change_code="152",s.Request_video_chat_a_to_server_code="053",s.Response_video_chat_server_to_a_code="153",s.Request_video_chat_b_to_server_code="054",s.Response_video_chat_server_to_b_code="154",s.Request_client_to_server_video_was_stopped_code="055",s.Response_server_to_client_video_was_stopped_code="155",s.LOGIN_CMD="login",s.OFFER_CMD="offer",s.ANSWER_CMD="answer",s.CANDIDATE_CMD="candidate",s.LEAVE_CMD="leave",s);function s(){}o.GlobalCode=n},function(e,o,t){"use strict";o.__esModule=!0;function n(){}o.RequsetSignin=n;function s(){}o.ResponseAddList=s;function i(){}o.ChatMessage=i;function r(){}o.AckChatMessage=r;function a(){}o.AddFriendRequest=a;function c(){}o.AddFriendResponse=c;function l(){}o.SetFriendStatusResponse=l;function u(){}o.ConfirmAddFriendRequest=u;function d(){}o.RequestFetchFriendInfo=d;function g(){}o.ResponseFetchFriendInfo=g;function _(){}o.ResponseMine=_;function f(){}o.RequestUserRegister=f;function S(){}o.ResponseUserRegister=S;function b(){}o.ResponseSignin=b;function m(){}o.UserInfo=m;function p(){}o.RequestRemoveFriend=p;function v(){}o.ResponseRemoveFriend=v;function y(){}o.RequestVideoChatClosed=y;function R(){}o.VideoChatMsg=R;function V(){}o.LoginWebRtcRoom=V;function h(){}o.Candidate=h;function k(){}o.Answer=k;function I(){}o.Offer=I;function O(){}o.WebRTCJson=O},function(e,o,t){"use strict";o.__esModule=!0;var n=t(0),s=Domain,i=s+":3478",r=s+":3478";var a=(c.uploaderSocketServer=s+":8091",c.ImServer=s+":8090",c.signallingConnectionServer=s+":8888",c.stunServerConfigString='[{ "urls": "stun:'+i+'?transport=udp"   } ,{ "urls": "stun:'+i+'?transport=tcp"   } ,{ "urls": "turn:'+r+'?transport=udp",  "username": "k1",  "credential": "1234567" } ,{ "urls": "turn:'+r+'?transport=tcp",  "username": "k1",  "credential": "1234567" } ] ',c);function c(){}o.GlobalVars=a,"https:"===document.location.protocol&&(n.GlobalVars2.protocol="wss://"),console.log("GlobalVars2.protocol  ",n.GlobalVars2.protocol),a.uploaderSocketServer=n.GlobalVars2.protocol+a.uploaderSocketServer,a.ImServer=n.GlobalVars2.protocol+a.ImServer,a.signallingConnectionServer=n.GlobalVars2.protocol+a.signallingConnectionServer,console.log("GlobalVars.uploaderSocketServer  ",a.uploaderSocketServer),console.log("GlobalVars.ImServer   ",a.ImServer),console.log("GlobalVars.signallingConnectionServer  ",a.signallingConnectionServer)},,,,,,,function(e,o,t){"use strict";o.__esModule=!0;var r,a,n=t(3),s=t(2),i=t(0),c=t(1);function l(e,o){var t;120<(r+=o)&&(r=1),r<1&&(r=120),t=r<10?"0000"+r.toString():r<100?"000"+r.toString():"00"+r.toString();var n,s=e.src.split("/");n="";for(var i=0;i<s.length-1;i++)n+=s[i]+"/";n=n+"small/"+t+".jpg",console.log("fullurl:",n),a=n,$("#header").attr("src",n)}r=1,a="",window.onload=function(){i.changeBackground(),$("#f1").click(function(){l(this,1)}),$("#f2").click(function(){l(this,-1)}),function(e){var o;o=(r=1)<10?"0000"+r.toString():r<100?"000"+r.toString():"00"+r.toString();var t,n=e[0].src.split("/");t="";for(var s=0;s<n.length-1;s++)t+=n[s]+"/";t=t+"small/"+o+".jpg",console.log("fullurl:",t),a=t}($("#f2")),layui.use("layer",function(){}),layui.use("carousel",function(){layui.carousel.render({elem:"#test1",width:"100%",arrow:"always",autoplay:!1})}),$("#a2").click(function(){i.GlobalVars2.globalImSocketObject=new WebSocket(n.GlobalVars.ImServer),i.GlobalVars2.globalImSocketObject.onopen=function(){console.log("user:  connect success");var e=new s.RequestUserRegister;e.cmd=c.GlobalCode.Request_register_code,e.nickname=$("#nickname").val(),e.passwd=$("#passwd").val(),console.log("header:",a),e.avatar=a,e.sign=$("#sign").val();JSON.stringify(e);i.sendMessageToServer(e)},i.GlobalVars2.globalImSocketObject.onmessage=function(e){console.log(e);var o="注册结果 ",t=JSON.parse(e.data);"success"==t.result?o+="成功， 新ID："+t.id:o+="失败， 请重试 ",layui.layer.open({content:o,btn:["按钮一"],yes:function(e,o){layer.close(e),window.location.href=i.GlobalVars2.globalLoginPage}})}})}}]);
//# sourceMappingURL=new_pc.js.map